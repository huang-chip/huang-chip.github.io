å¥½çš„ï¼æˆ‘æ¥ä¸ºä½ å†™ä¸€ä¸ªå®Œæ•´çš„éƒ¨ç½²æŒ‡å—ï¼Œä½¿ç”¨gh-pagesåˆ†æ”¯éƒ¨ç½²çš„æ­£ç¡®æ–¹æ¡ˆã€‚

## ğŸ“‹ GitHub Pages PWA éƒ¨ç½²å®Œæ•´æŒ‡å—

### ğŸ¯ éƒ¨ç½²æ¶æ„
- **mainåˆ†æ”¯**ï¼šæºä»£ç å¼€å‘åˆ†æ”¯ï¼ŒåŒ…å«Vueé¡¹ç›®æºç 
- **gh-pagesåˆ†æ”¯**ï¼šéƒ¨ç½²åˆ†æ”¯ï¼ŒåªåŒ…å«æ„å»ºäº§ç‰©
- **GitHub Pages**ï¼šä»gh-pagesåˆ†æ”¯è¯»å–æ–‡ä»¶å¹¶éƒ¨ç½²

---

## ğŸ”§ ç¬¬ä¸€æ­¥ï¼šGitHub Pages è®¾ç½®

### 1. è®¿é—®GitHubä»“åº“è®¾ç½®
1. æ‰“å¼€ https://github.com/huang-chip/huang-chip.github.io
2. ç‚¹å‡» **Settings** æ ‡ç­¾é¡µ
3. åœ¨å·¦ä¾§å¯¼èˆªæ ç‚¹å‡» **Pages**

### 2. é…ç½®Pagesè®¾ç½®
- **Source**: é€‰æ‹© **"Deploy from a branch"**
- **Branch**: é€‰æ‹© **"gh-pages"**
- **Folder**: é€‰æ‹© **"/ (root)"**
- ç‚¹å‡» **Save**

### 3. ç­‰å¾…éƒ¨ç½²
- GitHubä¼šè‡ªåŠ¨ä»gh-pagesåˆ†æ”¯éƒ¨ç½²
- éƒ¨ç½²å®Œæˆåï¼Œä½ çš„ç½‘ç«™å°†åœ¨ https://huang-chip.github.io/ å¯ç”¨

---

## ğŸš€ ç¬¬äºŒæ­¥ï¼šGitHub Actions å·¥ä½œæµé…ç½®

### åˆ›å»º/æ›´æ–° `.github/workflows/deploy.yml`

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]
    paths:
      - 'drtao-vue-app/**'  # åªæœ‰Vueé¡¹ç›®ä»£ç å˜åŒ–æ—¶æ‰è§¦å‘
  pull_request:
    branches: [ main ]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout
      uses: actions/checkout@v4
      
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm'
        cache-dependency-path: 'drtao-vue-app/package-lock.json'
        
    - name: Install dependencies
      run: |
        cd drtao-vue-app
        npm ci
        
    - name: Build
      run: |
        cd drtao-vue-app
        npm run build
        
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      if: github.ref == 'refs/heads/main'
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./drtao-vue-app/dist
        cname: huang-chip.github.io
```

---

## âš™ï¸ ç¬¬ä¸‰æ­¥ï¼šVite é…ç½®

### æ›´æ–° `drtao-vue-app/vite.config.js`

```javascript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { VitePWA } from 'vite-plugin-pwa'

export default defineConfig({
  plugins: [
    vue(),
    VitePWA({
      registerType: 'autoUpdate',
      workbox: {
        globPatterns: ['**/*.{js,css,html,ico,png,svg,jpg,jpeg,gif,webp,woff,woff2,ttf,eot}'],
        runtimeCaching: [
          {
            urlPattern: /^https:\/\/api\.deerapi\.com\/.*/i,
            handler: 'NetworkFirst',
            options: {
              cacheName: 'api-cache',
              expiration: {
                maxEntries: 10,
                maxAgeSeconds: 60 * 60 * 24 // 24 hours
              },
              cacheableResponse: {
                statuses: [0, 200]
              }
            }
          }
        ]
      },
      includeAssets: ['favicon.ico', 'ui1.jpg', 'pwa-192x192.png', 'pwa-512x512.png'],
      manifest: {
        name: 'å°æ·˜åšå£« - çŸ¥è¯†ç§‘æ™®å¤§è¯­è¨€æ¨¡å‹',
        short_name: 'å°æ·˜åšå£«',
        description: 'é¢å‘é’å°‘å¹´çš„çŸ¥è¯†ç§‘æ™®é—®ç­”ï¼Œæ”¯æŒæ–‡å­—å’Œè¯­éŸ³äº¤äº’',
        theme_color: '#FFA726',
        background_color: '#FFF8E6',
        display: 'standalone',
        orientation: 'portrait-primary',
        start_url: '/',
        scope: '/',
        icons: [
          {
            src: 'pwa-192x192.png',
            sizes: '192x192',
            type: 'image/png',
            purpose: 'any maskable'
          },
          {
            src: 'pwa-512x512.png',
            sizes: '512x512',
            type: 'image/png',
            purpose: 'any maskable'
          }
        ],
        categories: ['education', 'productivity'],
        lang: 'zh-CN'
      }
    })
  ],
  resolve: {
    alias: {
      '@': '/src'
    }
  },
  server: {
    proxy: {
      '/api': {
        target: 'https://api.deerapi.com',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '/v1'),
        configure: (proxy, options) => {
          proxy.on('proxyRes', (proxyRes, req, res) => {
            if (req.url.includes('chat/completions')) {
              proxyRes.headers['Cache-Control'] = 'no-cache'
              proxyRes.headers['Connection'] = 'keep-alive'
            }
          })
        }
      }
    }
  },
  base: '/'  # ä½¿ç”¨æ ¹è·¯å¾„ï¼Œé€‚é…GitHub Pages
})
```

---

## ğŸ“¦ ç¬¬å››æ­¥ï¼šPackage.json è„šæœ¬

### æ›´æ–° `drtao-vue-app/package.json`

```json
{
  "name": "drtao-app",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "deploy": "npm run build && gh-pages -d dist"
  },
  "dependencies": {
    "vue": "^3.5.13",
    "pinia": "^2.2.8",
    "vue-renderer-markdown": "^0.0.56-beta.6"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^5.2.1",
    "vite": "^6.0.7",
    "vite-plugin-pwa": "^0.21.1",
    "gh-pages": "^6.1.1"
  }
}
```

---

## ğŸ”„ ç¬¬äº”æ­¥ï¼šéƒ¨ç½²æµç¨‹

### è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **å¼€å‘ä»£ç **ï¼šåœ¨ `drtao-vue-app/` ç›®å½•ä¸‹å¼€å‘
2. **æäº¤ä»£ç **ï¼š
   ```bash
   git add .
   git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
   git push origin main
   ```
3. **è‡ªåŠ¨éƒ¨ç½²**ï¼šGitHub Actions è‡ªåŠ¨æ‰§è¡Œï¼š
   - æ„å»º Vue åº”ç”¨
   - å°†æ„å»ºäº§ç‰©æ¨é€åˆ° gh-pages åˆ†æ”¯
   - GitHub Pages è‡ªåŠ¨æ›´æ–°ç½‘ç«™

### æ‰‹åŠ¨éƒ¨ç½²ï¼ˆå¤‡é€‰ï¼‰

```bash
# åœ¨ drtao-vue-app ç›®å½•ä¸‹
cd drtao-vue-app
npm run deploy
```

---

## ğŸŒ ç¬¬å…­æ­¥ï¼šè®¿é—®å’Œæµ‹è¯•

### è®¿é—®åœ°å€
- **ä¸»è¦åœ°å€**ï¼šhttps://huang-chip.github.io/
- **PWA åŠŸèƒ½**ï¼šå®Œå…¨å¯ç”¨

### æµ‹è¯• PWA åŠŸèƒ½
1. **å®‰è£…æµ‹è¯•**ï¼š
   - åœ¨ Chrome/Edge ä¸­è®¿é—®åº”ç”¨
   - åœ°å€æ ä¼šå‡ºç°"å®‰è£…"æŒ‰é’®
   - ç‚¹å‡»å®‰è£…ï¼Œåº”ç”¨ä¼šæ·»åŠ åˆ°æ¡Œé¢

2. **ç¦»çº¿æµ‹è¯•**ï¼š
   - å®‰è£…åº”ç”¨åï¼Œæ–­å¼€ç½‘ç»œè¿æ¥
   - æ‰“å¼€åº”ç”¨ï¼Œåº”è¯¥ä»èƒ½æ­£å¸¸æ˜¾ç¤ºç•Œé¢

3. **æ›´æ–°æµ‹è¯•**ï¼š
   - ä¿®æ”¹ä»£ç å¹¶é‡æ–°éƒ¨ç½²
   - åº”ç”¨ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æç¤ºæ›´æ–°

---

## ğŸ”§ ç¬¬ä¸ƒæ­¥ï¼šCloudflare Workers é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ è¿˜æƒ³ä½¿ç”¨ Cloudflare Workersï¼š

### Cloudflare Pages è®¾ç½®
1. **ç™»å½• Cloudflare ä»ªè¡¨ç›˜**
2. **æ‰¾åˆ° `doctor-tao` é¡¹ç›®**
3. **ä¿®æ”¹ Build settings**ï¼š
   - **Git branch**: `main`
   - **Build command**: `cd drtao-vue-app && npm run build`
   - **Build output directory**: `drtao-vue-app/dist`
   - **Root directory**: `/`

### æˆ–è€…åˆ é™¤ Cloudflare Pages é¡¹ç›®
å¦‚æœåªéœ€è¦ GitHub Pagesï¼Œå¯ä»¥åˆ é™¤ Cloudflare Pages é¡¹ç›®ã€‚

---

## ğŸ“‹ é¡¹ç›®ç»“æ„

```
huang-chip.github.io/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml          # GitHub Actions å·¥ä½œæµ
â”œâ”€â”€ drtao-vue-app/              # Vue é¡¹ç›®æºç 
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ dist/                   # æ„å»ºäº§ç‰©ï¼ˆæœ¬åœ°ï¼‰
â”œâ”€â”€ docs/                       # æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ README.md
â””â”€â”€ .nojekyll                   # ç¦ç”¨ Jekyll
```

---

## ğŸ¯ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] GitHub Pages è®¾ç½®ä¸ºä» gh-pages åˆ†æ”¯éƒ¨ç½²
- [ ] GitHub Actions å·¥ä½œæµæ–‡ä»¶å­˜åœ¨ä¸”é…ç½®æ­£ç¡®
- [ ] Vite é…ç½®ä½¿ç”¨æ ¹è·¯å¾„ `base: '/'`
- [ ] PWA é…ç½®å®Œæ•´ï¼ˆmanifestã€service workerï¼‰

### éƒ¨ç½²åéªŒè¯
- [ ] è®¿é—® https://huang-chip.github.io/ æ­£å¸¸æ˜¾ç¤º
- [ ] PWA å®‰è£…åŠŸèƒ½æ­£å¸¸
- [ ] ç¦»çº¿è®¿é—®åŠŸèƒ½æ­£å¸¸
- [ ] æ‰€æœ‰é™æ€èµ„æºåŠ è½½æ­£å¸¸

---

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **404 é”™è¯¯**ï¼š
   - æ£€æŸ¥ GitHub Pages æ˜¯å¦ä» gh-pages åˆ†æ”¯éƒ¨ç½²
   - æ£€æŸ¥ gh-pages åˆ†æ”¯æ˜¯å¦åŒ…å«æ„å»ºäº§ç‰©

2. **PWA åŠŸèƒ½å¼‚å¸¸**ï¼š
   - æ£€æŸ¥ manifest.webmanifest æ–‡ä»¶æ˜¯å¦å­˜åœ¨
   - æ£€æŸ¥ service worker æ˜¯å¦æ­£ç¡®æ³¨å†Œ

3. **GitHub Actions å¤±è´¥**ï¼š
   - æ£€æŸ¥å·¥ä½œæµæ–‡ä»¶è¯­æ³•
   - æŸ¥çœ‹ Actions æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

### è°ƒè¯•å‘½ä»¤

```bash
# æ£€æŸ¥ gh-pages åˆ†æ”¯å†…å®¹
git checkout gh-pages
ls -la
git checkout main

# æ‰‹åŠ¨è§¦å‘ GitHub Actions
# åœ¨ GitHub ä»“åº“çš„ Actions é¡µé¢ç‚¹å‡» "Run workflow"
```

---

## ğŸŠ æ€»ç»“

è¿™ä¸ªéƒ¨ç½²æ–¹æ¡ˆçš„ä¼˜åŠ¿ï¼š
- âœ… **åˆ†ç¦»å…³æ³¨ç‚¹**ï¼šmain åˆ†æ”¯ä¸“æ³¨å¼€å‘ï¼Œgh-pages åˆ†æ”¯ä¸“æ³¨éƒ¨ç½²
- âœ… **è‡ªåŠ¨åŒ–éƒ¨ç½²**ï¼šGitHub Actions è‡ªåŠ¨å¤„ç†æ„å»ºå’Œéƒ¨ç½²
- âœ… **PWA åŠŸèƒ½å®Œæ•´**ï¼šæ”¯æŒå®‰è£…åˆ°æ¡Œé¢ã€ç¦»çº¿è®¿é—®
- âœ… **æ˜“äºç»´æŠ¤**ï¼šæ¸…æ™°çš„éƒ¨ç½²æµç¨‹å’Œæ•…éšœæ’é™¤æŒ‡å—

æŒ‰ç…§è¿™ä¸ªæŒ‡å—é…ç½®åï¼Œä½ çš„å°æ·˜åšå£« PWA åº”ç”¨å°±èƒ½æ­£å¸¸éƒ¨ç½²å’Œè¿è¡Œäº†ï¼